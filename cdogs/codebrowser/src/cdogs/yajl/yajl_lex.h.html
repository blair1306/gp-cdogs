<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>yajl_lex.h source code [codebrowser/src/cdogs/yajl/yajl_lex.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/src/cdogs/yajl/yajl_lex.h'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>codebrowser</a>/<a href='../..'>src</a>/<a href='..'>cdogs</a>/<a href='./'>yajl</a>/<a href='yajl_lex.h.html'>yajl_lex.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (c) 2007-2014, Lloyd Hilaiel &lt;me@lloyd.io&gt;</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Permission to use, copy, modify, and/or distribute this software for any</i></td></tr>
<tr><th id="5">5</th><td><i> * purpose with or without fee is hereby granted, provided that the above</i></td></tr>
<tr><th id="6">6</th><td><i> * copyright notice and this permission notice appear in all copies.</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES</i></td></tr>
<tr><th id="9">9</th><td><i> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</i></td></tr>
<tr><th id="10">10</th><td><i> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</i></td></tr>
<tr><th id="11">11</th><td><i> * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</i></td></tr>
<tr><th id="12">12</th><td><i> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</i></td></tr>
<tr><th id="13">13</th><td><i> * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</i></td></tr>
<tr><th id="14">14</th><td><i> * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</i></td></tr>
<tr><th id="15">15</th><td><i> */</i></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><u>#<span data-ppcond="17">ifndef</span> <span class="macro" data-ref="_M/__YAJL_LEX_H__">__YAJL_LEX_H__</span></u></td></tr>
<tr><th id="18">18</th><td><u>#define <dfn class="macro" id="_M/__YAJL_LEX_H__" data-ref="_M/__YAJL_LEX_H__">__YAJL_LEX_H__</dfn></u></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="api/yajl_common.h.html">"api/yajl_common.h"</a></u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><b>typedef</b> <b>enum</b> {</td></tr>
<tr><th id="23">23</th><td>    <dfn class="enum" id="yajl_tok_bool" title='yajl_tok_bool' data-ref="yajl_tok_bool">yajl_tok_bool</dfn>,</td></tr>
<tr><th id="24">24</th><td>    <dfn class="enum" id="yajl_tok_colon" title='yajl_tok_colon' data-ref="yajl_tok_colon">yajl_tok_colon</dfn>,</td></tr>
<tr><th id="25">25</th><td>    <dfn class="enum" id="yajl_tok_comma" title='yajl_tok_comma' data-ref="yajl_tok_comma">yajl_tok_comma</dfn>,</td></tr>
<tr><th id="26">26</th><td>    <dfn class="enum" id="yajl_tok_eof" title='yajl_tok_eof' data-ref="yajl_tok_eof">yajl_tok_eof</dfn>,</td></tr>
<tr><th id="27">27</th><td>    <dfn class="enum" id="yajl_tok_error" title='yajl_tok_error' data-ref="yajl_tok_error">yajl_tok_error</dfn>,</td></tr>
<tr><th id="28">28</th><td>    <dfn class="enum" id="yajl_tok_left_brace" title='yajl_tok_left_brace' data-ref="yajl_tok_left_brace">yajl_tok_left_brace</dfn>,</td></tr>
<tr><th id="29">29</th><td>    <dfn class="enum" id="yajl_tok_left_bracket" title='yajl_tok_left_bracket' data-ref="yajl_tok_left_bracket">yajl_tok_left_bracket</dfn>,</td></tr>
<tr><th id="30">30</th><td>    <dfn class="enum" id="yajl_tok_null" title='yajl_tok_null' data-ref="yajl_tok_null">yajl_tok_null</dfn>,</td></tr>
<tr><th id="31">31</th><td>    <dfn class="enum" id="yajl_tok_right_brace" title='yajl_tok_right_brace' data-ref="yajl_tok_right_brace">yajl_tok_right_brace</dfn>,</td></tr>
<tr><th id="32">32</th><td>    <dfn class="enum" id="yajl_tok_right_bracket" title='yajl_tok_right_bracket' data-ref="yajl_tok_right_bracket">yajl_tok_right_bracket</dfn>,</td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td>    <i>/* we differentiate between integers and doubles to allow the</i></td></tr>
<tr><th id="35">35</th><td><i>     * parser to interpret the number without re-scanning */</i></td></tr>
<tr><th id="36">36</th><td>    <dfn class="enum" id="yajl_tok_integer" title='yajl_tok_integer' data-ref="yajl_tok_integer">yajl_tok_integer</dfn>,</td></tr>
<tr><th id="37">37</th><td>    <dfn class="enum" id="yajl_tok_double" title='yajl_tok_double' data-ref="yajl_tok_double">yajl_tok_double</dfn>,</td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td>    <i>/* we differentiate between strings which require further processing,</i></td></tr>
<tr><th id="40">40</th><td><i>     * and strings that do not */</i></td></tr>
<tr><th id="41">41</th><td>    <dfn class="enum" id="yajl_tok_string" title='yajl_tok_string' data-ref="yajl_tok_string">yajl_tok_string</dfn>,</td></tr>
<tr><th id="42">42</th><td>    <dfn class="enum" id="yajl_tok_string_with_escapes" title='yajl_tok_string_with_escapes' data-ref="yajl_tok_string_with_escapes">yajl_tok_string_with_escapes</dfn>,</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td>    <i>/* comment tokens are not currently returned to the parser, ever */</i></td></tr>
<tr><th id="45">45</th><td>    <dfn class="enum" id="yajl_tok_comment" title='yajl_tok_comment' data-ref="yajl_tok_comment">yajl_tok_comment</dfn></td></tr>
<tr><th id="46">46</th><td>} <dfn class="typedef" id="yajl_tok" title='yajl_tok' data-type='enum yajl_tok' data-ref="yajl_tok">yajl_tok</dfn>;</td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><b>typedef</b> <b>struct</b> <dfn class="type" id="yajl_lexer_t" title='yajl_lexer_t' data-ref="yajl_lexer_t"><a class="type" href="#yajl_lexer_t" title='yajl_lexer_t' data-ref="yajl_lexer_t">yajl_lexer_t</a></dfn> * <dfn class="typedef" id="yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</dfn>;</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="decl" id="yajl_lex_alloc" title='yajl_lex_alloc' data-ref="yajl_lex_alloc">yajl_lex_alloc</dfn>(<a class="typedef" href="../include/yajl/yajl_common.h.html#yajl_alloc_funcs" title='yajl_alloc_funcs' data-type='struct yajl_alloc_funcs' data-ref="yajl_alloc_funcs">yajl_alloc_funcs</a> * <dfn class="local col6 decl" id="46alloc" title='alloc' data-type='yajl_alloc_funcs *' data-ref="46alloc">alloc</dfn>,</td></tr>
<tr><th id="51">51</th><td>                          <em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="47allowComments" title='allowComments' data-type='unsigned int' data-ref="47allowComments">allowComments</dfn>,</td></tr>
<tr><th id="52">52</th><td>                          <em>unsigned</em> <em>int</em> <dfn class="local col8 decl" id="48validateUTF8" title='validateUTF8' data-type='unsigned int' data-ref="48validateUTF8">validateUTF8</dfn>);</td></tr>
<tr><th id="53">53</th><td></td></tr>
<tr><th id="54">54</th><td><em>void</em> <dfn class="decl" id="yajl_lex_free" title='yajl_lex_free' data-ref="yajl_lex_free">yajl_lex_free</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col9 decl" id="49lexer" title='lexer' data-type='yajl_lexer' data-ref="49lexer">lexer</dfn>);</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i class="doc">/**</i></td></tr>
<tr><th id="57">57</th><td><i class="doc"> * run/continue a lex. "offset" is an input/output parameter.</i></td></tr>
<tr><th id="58">58</th><td><i class="doc"> * It should be initialized to zero for a</i></td></tr>
<tr><th id="59">59</th><td><i class="doc"> * new chunk of target text, and upon subsetquent calls with the same</i></td></tr>
<tr><th id="60">60</th><td><i class="doc"> * target text should passed with the value of the previous invocation.</i></td></tr>
<tr><th id="61">61</th><td><i class="doc"> *</i></td></tr>
<tr><th id="62">62</th><td><i class="doc"> * the client may be interested in the value of offset when an error is</i></td></tr>
<tr><th id="63">63</th><td><i class="doc"> * returned from the lexer.  This allows the client to render useful</i></td></tr>
<tr><th id="64">64</th><td><i class="doc"> * error messages.</i></td></tr>
<tr><th id="65">65</th><td><i class="doc"> *</i></td></tr>
<tr><th id="66">66</th><td><i class="doc"> * When you pass the next chunk of data, context should be reinitialized</i></td></tr>
<tr><th id="67">67</th><td><i class="doc"> * to zero.</i></td></tr>
<tr><th id="68">68</th><td><i class="doc"> *</i></td></tr>
<tr><th id="69">69</th><td><i class="doc"> * Finally, the output buffer is usually just a pointer into the jsonText,</i></td></tr>
<tr><th id="70">70</th><td><i class="doc"> * however in cases where the entity being lexed spans multiple chunks,</i></td></tr>
<tr><th id="71">71</th><td><i class="doc"> * the lexer will buffer the entity and the data returned will be</i></td></tr>
<tr><th id="72">72</th><td><i class="doc"> * a pointer into that buffer.</i></td></tr>
<tr><th id="73">73</th><td><i class="doc"> *</i></td></tr>
<tr><th id="74">74</th><td><i class="doc"> * This behavior is abstracted from client code except for the performance</i></td></tr>
<tr><th id="75">75</th><td><i class="doc"> * implications which require that the client choose a reasonable chunk</i></td></tr>
<tr><th id="76">76</th><td><i class="doc"> * size to get adequate performance.</i></td></tr>
<tr><th id="77">77</th><td><i class="doc"> */</i></td></tr>
<tr><th id="78">78</th><td><a class="typedef" href="#yajl_tok" title='yajl_tok' data-type='enum yajl_tok' data-ref="yajl_tok">yajl_tok</a> <dfn class="decl" id="yajl_lex_lex" title='yajl_lex_lex' data-ref="yajl_lex_lex">yajl_lex_lex</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col0 decl" id="50lexer" title='lexer' data-type='yajl_lexer' data-ref="50lexer">lexer</dfn>, <em>const</em> <em>unsigned</em> <em>char</em> * <dfn class="local col1 decl" id="51jsonText" title='jsonText' data-type='const unsigned char *' data-ref="51jsonText">jsonText</dfn>,</td></tr>
<tr><th id="79">79</th><td>                      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="52jsonTextLen" title='jsonTextLen' data-type='size_t' data-ref="52jsonTextLen">jsonTextLen</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> * <dfn class="local col3 decl" id="53offset" title='offset' data-type='size_t *' data-ref="53offset">offset</dfn>,</td></tr>
<tr><th id="80">80</th><td>                      <em>const</em> <em>unsigned</em> <em>char</em> ** <dfn class="local col4 decl" id="54outBuf" title='outBuf' data-type='const unsigned char **' data-ref="54outBuf">outBuf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> * <dfn class="local col5 decl" id="55outLen" title='outLen' data-type='size_t *' data-ref="55outLen">outLen</dfn>);</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><i class="doc">/** have a peek at the next token, but don't move the lexer forward */</i></td></tr>
<tr><th id="83">83</th><td><a class="typedef" href="#yajl_tok" title='yajl_tok' data-type='enum yajl_tok' data-ref="yajl_tok">yajl_tok</a> <dfn class="decl" id="yajl_lex_peek" title='yajl_lex_peek' data-ref="yajl_lex_peek">yajl_lex_peek</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col6 decl" id="56lexer" title='lexer' data-type='yajl_lexer' data-ref="56lexer">lexer</dfn>, <em>const</em> <em>unsigned</em> <em>char</em> * <dfn class="local col7 decl" id="57jsonText" title='jsonText' data-type='const unsigned char *' data-ref="57jsonText">jsonText</dfn>,</td></tr>
<tr><th id="84">84</th><td>                       <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="58jsonTextLen" title='jsonTextLen' data-type='size_t' data-ref="58jsonTextLen">jsonTextLen</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="59offset" title='offset' data-type='size_t' data-ref="59offset">offset</dfn>);</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><b>typedef</b> <b>enum</b> {</td></tr>
<tr><th id="88">88</th><td>    <dfn class="enum" id="yajl_lex_e_ok" title='yajl_lex_e_ok' data-ref="yajl_lex_e_ok">yajl_lex_e_ok</dfn> = <var>0</var>,</td></tr>
<tr><th id="89">89</th><td>    <dfn class="enum" id="yajl_lex_string_invalid_utf8" title='yajl_lex_string_invalid_utf8' data-ref="yajl_lex_string_invalid_utf8">yajl_lex_string_invalid_utf8</dfn>,</td></tr>
<tr><th id="90">90</th><td>    <dfn class="enum" id="yajl_lex_string_invalid_escaped_char" title='yajl_lex_string_invalid_escaped_char' data-ref="yajl_lex_string_invalid_escaped_char">yajl_lex_string_invalid_escaped_char</dfn>,</td></tr>
<tr><th id="91">91</th><td>    <dfn class="enum" id="yajl_lex_string_invalid_json_char" title='yajl_lex_string_invalid_json_char' data-ref="yajl_lex_string_invalid_json_char">yajl_lex_string_invalid_json_char</dfn>,</td></tr>
<tr><th id="92">92</th><td>    <dfn class="enum" id="yajl_lex_string_invalid_hex_char" title='yajl_lex_string_invalid_hex_char' data-ref="yajl_lex_string_invalid_hex_char">yajl_lex_string_invalid_hex_char</dfn>,</td></tr>
<tr><th id="93">93</th><td>    <dfn class="enum" id="yajl_lex_invalid_char" title='yajl_lex_invalid_char' data-ref="yajl_lex_invalid_char">yajl_lex_invalid_char</dfn>,</td></tr>
<tr><th id="94">94</th><td>    <dfn class="enum" id="yajl_lex_invalid_string" title='yajl_lex_invalid_string' data-ref="yajl_lex_invalid_string">yajl_lex_invalid_string</dfn>,</td></tr>
<tr><th id="95">95</th><td>    <dfn class="enum" id="yajl_lex_missing_integer_after_decimal" title='yajl_lex_missing_integer_after_decimal' data-ref="yajl_lex_missing_integer_after_decimal">yajl_lex_missing_integer_after_decimal</dfn>,</td></tr>
<tr><th id="96">96</th><td>    <dfn class="enum" id="yajl_lex_missing_integer_after_exponent" title='yajl_lex_missing_integer_after_exponent' data-ref="yajl_lex_missing_integer_after_exponent">yajl_lex_missing_integer_after_exponent</dfn>,</td></tr>
<tr><th id="97">97</th><td>    <dfn class="enum" id="yajl_lex_missing_integer_after_minus" title='yajl_lex_missing_integer_after_minus' data-ref="yajl_lex_missing_integer_after_minus">yajl_lex_missing_integer_after_minus</dfn>,</td></tr>
<tr><th id="98">98</th><td>    <dfn class="enum" id="yajl_lex_unallowed_comment" title='yajl_lex_unallowed_comment' data-ref="yajl_lex_unallowed_comment">yajl_lex_unallowed_comment</dfn></td></tr>
<tr><th id="99">99</th><td>} <dfn class="typedef" id="yajl_lex_error" title='yajl_lex_error' data-type='enum yajl_lex_error' data-ref="yajl_lex_error">yajl_lex_error</dfn>;</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><em>const</em> <em>char</em> * <dfn class="decl" id="yajl_lex_error_to_string" title='yajl_lex_error_to_string' data-ref="yajl_lex_error_to_string">yajl_lex_error_to_string</dfn>(<a class="typedef" href="#yajl_lex_error" title='yajl_lex_error' data-type='enum yajl_lex_error' data-ref="yajl_lex_error">yajl_lex_error</a> <dfn class="local col0 decl" id="60error" title='error' data-type='yajl_lex_error' data-ref="60error">error</dfn>);</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><i class="doc">/** allows access to more specific information about the lexical</i></td></tr>
<tr><th id="104">104</th><td><i class="doc"> *  error when yajl_lex_lex returns yajl_tok_error. */</i></td></tr>
<tr><th id="105">105</th><td><a class="typedef" href="#yajl_lex_error" title='yajl_lex_error' data-type='enum yajl_lex_error' data-ref="yajl_lex_error">yajl_lex_error</a> <dfn class="decl" id="yajl_lex_get_error" title='yajl_lex_get_error' data-ref="yajl_lex_get_error">yajl_lex_get_error</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col1 decl" id="61lexer" title='lexer' data-type='yajl_lexer' data-ref="61lexer">lexer</dfn>);</td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td><i class="doc">/** get the current offset into the most recently lexed json string. */</i></td></tr>
<tr><th id="108">108</th><td><span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="yajl_lex_current_offset" title='yajl_lex_current_offset' data-ref="yajl_lex_current_offset">yajl_lex_current_offset</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col2 decl" id="62lexer" title='lexer' data-type='yajl_lexer' data-ref="62lexer">lexer</dfn>);</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><i class="doc">/** get the number of lines lexed by this lexer instance */</i></td></tr>
<tr><th id="111">111</th><td><span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="yajl_lex_current_line" title='yajl_lex_current_line' data-ref="yajl_lex_current_line">yajl_lex_current_line</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col3 decl" id="63lexer" title='lexer' data-type='yajl_lexer' data-ref="63lexer">lexer</dfn>);</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td><i class="doc">/** get the number of chars lexed by this lexer instance since the last</i></td></tr>
<tr><th id="114">114</th><td><i class="doc"> * <span class="command"> \n</span> or<span class="command"> \r</span> */</i></td></tr>
<tr><th id="115">115</th><td><span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="yajl_lex_current_char" title='yajl_lex_current_char' data-ref="yajl_lex_current_char">yajl_lex_current_char</dfn>(<a class="typedef" href="#yajl_lexer" title='yajl_lexer' data-type='struct yajl_lexer_t *' data-ref="yajl_lexer">yajl_lexer</a> <dfn class="local col4 decl" id="64lexer" title='lexer' data-type='yajl_lexer' data-ref="64lexer">lexer</dfn>);</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><u>#<span data-ppcond="17">endif</span></u></td></tr>
<tr><th id="118">118</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='yajl.c.html'>codebrowser/src/cdogs/yajl/yajl.c</a><br/>Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>0.6.5-118-gc463396</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
